---
page_title: "Nscale: nscale_instance"
subcategory: ""
description: |-
  Nscale Instance
---

# Resource: nscale_instance

Instances are machines, either virtual or bare-metal, provisioned with a specified flavor (CPU/memory/disk
configuration) and image (operating system). Instances can be attached to networks with optional public IP addresses and
security groups. Instances also expose configurable properties such as user data for cloud-init and custom egress
routing with allowed destinations that bypass SNAT.

## Example Usage

```hcl
data "nscale_region" "glo1" {
  id = "XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"
}

resource "nscale_network" "example" {
  name            = "example"
  cidr_block      = "192.168.0.0/24"
  dns_nameservers = ["8.8.8.8", "8.8.4.4"]
  region_id       = data.nscale_region.glo1.id
}

resource "nscale_security_group" "example" {
  name = "example"

  rules = [
    {
      type      = "ingress"
      protocol  = "tcp"
      from_port = 80
    }
  ]

  network_id = nscale_network.example.id
  region_id  = data.nscale_region.glo1.id
}

data "nscale_instance_flavor" "g_4_standard_40s" {
  id = "XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"
  region_id = data.nscale_region.glo1.id
}

resource "nscale_instance" "example" {
  name = "example"

  network_interface {
    network_id         = nscale_network.example.id
    enable_public_ip   = true
    security_group_ids = [nscale_security_group.example.id]
  }

  image_id  = "XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"
  flavor_id = data.nscale_instance_flavor.g_4_standard_40s.id
  region_id = data.nscale_region.glo1.id
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `flavor_id` (String) The identifier of the flavor used for the instance.
- `image_id` (String) The identifier of the image used for the instance.
- `name` (String) The name of the instance.

### Optional

- `description` (String) The description of the instance.
- `network_interface` (Block, Optional) The network interface configuration of the instance. (see [below for nested schema](#nestedblock--network_interface))
- `region_id` (String) The identifier of the region where the instance is provisioned. If not specified, this defaults to the region ID configured in the provider.
- `user_data` (String) The data to pass to the instance at boot time.

### Read-Only

- `creation_time` (String) The timestamp when the instance was created.
- `id` (String) An unique identifier for the instance.
- `power_state` (String) The power state of the instance.
- `private_ip` (String) The private IP address assigned to the instance.
- `public_ip` (String) The public IP address assigned to the instance.

<a id="nestedblock--network_interface"></a>
### Nested Schema for `network_interface`

Required:

- `network_id` (String) The identifier of the network to where the instance is provisioned.

Optional:

- `allowed_destinations` (List of String) A list of CIDR blocks that are allowed to egress from the instance without SNAT.
- `enable_public_ip` (Boolean) Whether the instance should have a public IP.
- `security_group_ids` (List of String) A list of security group identifiers to associate with the instance.
